ì¥ê³  : Dynamic Web ( ë™ì ìœ¼ë¡œ ë‚´ë¶€ì—ì„œ ì—°ì‚°ë„ ê°€ëŠ¥í•˜ê³ , ì‚¬ìš©ìë§ˆë‹¤ input ì´ ë‹¤ë¥´ë‹ˆê¹Œ, ì‚¬ìš©ìë§ˆë‹¤ output ë‹¤ë¥´ê²Œ)

<---> Static Web

|                                                         |                                                |
| ------------------------------------------------------- | ---------------------------------------------- |
| Web App ë§Œë“¤ê¸°                                          | â‰’ ì¹´í˜ ì°½ì—…                                    |
| 1) A-Z ê¹Œì§€ ëª¨ë‘ ì§ì ‘í•˜ê¸°                               | 1) A-Z ê¹Œì§€ ëª¨ë‘ ì§ì ‘í•˜ê¸°                      |
| : URL Parsing, DB setting, ORM, ë³´ì•ˆ ë“±ë“±               | : í™ë³´, ëŒ€ì¶œ, ì¸í…Œë¦¬ì–´, ë ˆì‹œí”¼, ê±°ë˜ì²˜ ë“±ë“±... |
| 2) í”„ë ˆì„ì›Œí¬ ì‚¬ìš©(Flask, Django ê°™ì€)                  | 2) í”„ëœì°¨ì´ì¦ˆ ì°½ì—…                             |
| : ê¸°ë³¸ì ì€ ë¼ˆëŒ€ëŠ” ì œê³µë°›ê³ , ë‚´ë¶€ ì½˜í…ì¸ ì™€ ì„œë¹„ìŠ¤ì— ì§‘ì¤‘ | : ë¼ˆëŒ€ëŠ” ë°›ì•„ì˜¤ê³ , ì„œë¹„ìŠ¤ì—ë§Œ ì§‘ì¤‘             |



#### Flask vs Django

| Flask                | Django                                                       |
| -------------------- | ------------------------------------------------------------ |
| ê¸°ë³¸ ë¼ˆëŒ€ë§Œ ì œê³µí•´ì¤Œ | ì œê³µ ì˜ì—­ì´ ë” ë„“ê³  ì‰½ë‹¤( ë‹ˆê°€ ë­˜ ì¢‹ì•„í• ì§€ ëª°ë¼ì„œ, ë‹¤ ì¤€ë¹„í•´ë´¤ì–´.....ğŸ¤£) |



<hr></hr>



#### <span style="color:blue">âœ”âœ”âœ” ê°€ìƒ í™˜ê²½ ì‹œì‘í•˜ê¸°</span> ( ê°€ìƒí™˜ê²½ìœ¼ë¡œ ë§Œë“¤ í´ë” ç”Ÿ å¾Œ ë‹¤ìŒ ê³¼ì • ì‹œì‘)

```bash
pyenv virtualenv 3.6.7 ê°€ìƒí™˜ê²½å-venv

pyenv local ê°€ìƒí™˜ê²½å-venv      # í˜„ì¬ í´ë”ì— ê°€ìƒ í™˜ê²½ í™œì„±í™”
```



#### <span style="color:blue">í”„ë¡œì íŠ¸ ç”Ÿ â†’Â  app(pages) ç”Ÿ â†’Â  app ë“±ë¡ â†’ ì¥ê³  ì„œë²„ ì‹œì‘í•˜ê¸°</span>(bash)

```bash
pip install django

django-admin startproject í”„ë¡œì íŠ¸å .   # ì „ì²´ í° í”„ë¡œì íŠ¸ë¥¼ ë§Œë“œëŠ” í‹€. ì  ì°ê¸° ì£¼ì˜

python manage.py startapp appå  ## ì–´í”Œë¦¬ì¼€ì´ì…˜ ìƒì„± ëª…ë ¹ì–´?  ex)  python manage.py startapp pages

python manage.py runserver $IP:$PORT  # ì„œë²„ ì‹œì‘í•˜ê¸°
```



<span style="color:blue">í•„ìˆ˜ ì„¤ì •</span>

```python
1. setting.py (28 line) : host ì£¼ì†Œ ë¬¸ìì—´ë¡œ ë“±ë¡
'playground-myccpb08.c9users.io'

2. 106 line ì–¸ì–´ì™€ ì‹œê°„ ìˆ˜ì •
ko:kr
Asia/Seoul

3. 33 line installed_apps ì— ë“±ë¡í•˜ê¸°  # pagesë¼ëŠ” appì„ ë§Œë“¤ì—ˆìœ¼ë‹ˆ ë“±ë¡	
'pages.apps.PagesConfig'   # ì½¤ë§ˆ ìŠì§€ ë§ê¸°

# pages í´ë” ë‚´ì— apps.py ê°€ ì•±ì— ëŒ€í•œ ì •ë³´ê°€ ë“¤ì–´ìˆìŒ
```



<hr></hr>

##### ì¶”ê°€ ë‚´ìš©

* ê°€ìƒí™˜ê²½ ì‚­ì œ

  ```bash
  pyenv uninstall ê°€ìƒí™˜ê²½å
  ```

* ê°€ìƒí™˜ê²½ ëª©ë¡

  ```bash
  pyenv versions
  ```

* í˜„ì¬ í´ë”ì— í™œì„±í™”ëœ ê°€ìƒ í™˜ê²½ ë¹„í™œì„±í™”

  ```bash
  .python-version íŒŒì¼ì„ ì‚­ì œí•œë‹¤.
  ```






## ì¥ê³ ì˜ M.T.V íŒ¨í„´  : Model   -  Template  -   View

Model : ë°ì´í„°ë¥¼ ê´€ë¦¬

Template : ì‚¬ìš©ìê°€ ë³´ëŠ” í™”ë©´

View : Mê³¼ T ì˜ ì¤‘ê°„ ê´€ë¦¬ì

ë·°ì— ì‚¬ìš©ìê°€ ìš”ì²­ì„ ë³´ë‚´ë©´, ëª¨ë¸í•œí…Œ 1ë²ˆ ê°•ì˜ ì°¾ì•„ë‹¬ë¼ê³  ì‹ í˜¸ GO

ëª¨ë¸ì´ ì°¾ì•„ì„œ ë·°ì— ë³´ëƒ„

ë·°ê°€ í…œí”Œë¦¿ì— 1ë²ˆ ê°•ì˜ë³´ë‚´ë©´, 

í…œí”Œë¦¿ì´ í™”ë©´ì— ë„ì›€





urls.py : ë¬¸ì§€ê¸° / ì¤‘ê°œ / ë¼ìš°í„°



ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” urls.py ë‘ setting.py ë§Œ ì‚¬ìš©



admin.py : ì»¤ìŠ¤í„°ë§ˆì´ì§• íŒŒì¼

init.py ì—†ìœ¼ë©´ ì—ëŸ¬ë‚¨



#  <b><u><span style="color:blue">View</span> ë§Œë“¤ê¸° â†’Â <span style="color:blue">urls</span> ì •ë¦¬ â†’Â <span style="color:blue">templates</span> ë§Œë“¤ê¸°</u></b>

### 0. ê¸°ë³¸ í˜•íƒœ

```python 
1. views.pyì—ì„œ ì‘ì„±

def index(request):                       # ğŸ’¬ index(t) ì™€ render(t, ..) ì´ë ‡ê²Œ ë‘˜ì´ ê°™ê²Œ (requestìë¦¬)
    return render(request, 'index.html')  # í•¨ìˆ˜å ì¸ index ì™€,  htmlå ì¸ 'index.html' ë³€ê²½ å¯
									   # ê·¸ ì™¸ ì‚¬í•­ì€ ê¸°ë³¸ í‹€
```

```python
2. urls.pyì—ì„œ ì‘ì„±

from django.contrib import admin
from django.urls import path
from pages import views  # __init__py ë•ë¶„ì— ê°€ëŠ¥

urlpatterns = [
    path('index/', views.index),          #ğŸ’¬ path(ì£¼ì†Œ, views.í•¨ìˆ˜å) 
    path('admin/', admin.site.urls),	  # http:..../index ë¥¼ ì…ë ¥í•˜ë©´ views.py ì˜ index í•¨ìˆ˜ë¥¼ è¡Œ í•´
]
```



### 1. Template ë³€ìˆ˜

<span style="color:red"><b>âœ”Â </b></span>  ë·°ì—ì„œ í…œí”Œë¦¿ìœ¼ë¡œ ë³€ìˆ˜ ë„˜ê¸¸ ë•Œ, <span style="color:red">í•­ìƒ <b><u>ë”•ì…”ë„ˆë¦¬ í˜•íƒœ</u></b>ë¡œ</span> ë„˜ì–´ê°

â€‹       ë”•ì…”ë„ˆë¦¬ì˜ <span style="color:red">KEYê°€ ë³€ìˆ˜ë¡œì„œ í…œí”Œë¦¿ì—</span> ë„˜ì–´ê°

```python
# views.py ì—ì„œ ì‘ì„±
def dinner(request):     
    menu = ["ì¡±ë°œ", "í–„ë²„ê±°", "ì¹˜í‚¨", "ì´ˆë°¥"]
    pick = random.choice(menu)
    return render(request,'dinner.html', {'dinner': pick})     ## í‚¤ dinner!! âœ…

# dinner.htmlì—ì„œ ì‘ì„±
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <h1>ì˜¤ëŠ˜ ì €ë…ì€ {{dinner}}! </h1>   ## ì—¬ê¸° ë³€ìˆ˜ë¡œ dinner!!!! âœ… 
</body>
</html>
```



### 2. Variable routing (ì£¼ì†Œë¥¼ ë³€ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°)

```python
# views.py ì—ì„œ ì‘ì„±
def hello(request, name): # ì£¼ì†Œë¡œë¶€í„° ë°›ê³  ì‹¶ì€ ë³€ìˆ˜ì˜ ì´ë¦„ì„ ì •í•´ì•¼ í•œë‹¤ , ì´ ê²½ìš° name
    return render(request, 'hello.html', {'na':name})   # key ê°’ key ê°’ âœ…
```

```html
# hello. html ì—ì„œ ì‘ì„±

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <h1>ì•ˆë…•, {{ na }}!</h1>    <!-- í‚¤ ê°’ì´ ë³€ìˆ˜ ì´ë¦„ìœ¼ë¡œ ë°›ì•„ì¡ŒìŒ --> âœ…
</body>
</html>
```

```python
# urls.py ì—ì„œ ì‘ì„±

from django.contrib import admin
from django.urls import path
from pages import views  # __init__py ë•ë¶„ì— ê°€ëŠ¥

# hello, dinner ë“±ë“±ì€ views ì˜ í•¨ìˆ˜

urlpatterns = [								
    path('hello/<str:name>/', views.hello),   <<â° ì´ ë¶€ë¶„ì´ ì…ë ¥í•´ì¤€ ê±°  : hello/ë””ì§€ëª¬ í•˜ë©´ ì•ˆë…•, ë””ì§€ëª¬!
    path('admin/', admin.site.urls),
]

<str:name> ì—ì„œ ì…ë ¥ë°›ì€ ë””ì§€ëª¬ì´ name ìœ¼ë¡œ 
    def hello(request,ë””ì§€ëª¬) ìœ¼ë¡œ ë„˜ì–´ê°€ê³ 
    views.pyì—ì„œ        'na': ë””ì§€ëª¬ ìœ¼ë¡œ ê°€ì„œ  
        ì•ˆë…•, {{ ë””ì§€ëª¬ }} ìœ¼ë¡œ í…œí”Œë¦¿ì—ì„œ ì²˜ë¦¬
```



### 3. html ã® body å…§  Form íƒœê·¸ ì´ìš© (ì…ë ¥ ê°’ ë„˜ê²¨ì£¼ê¸°)

```html
# throw.html ì—ì„œ ì‘ì„±

1. form íƒœê·¸ ìë™ì™„ì„± ì‹œí‚¤ê¸° â†“â†“â†“ form tag ê¸°ë³¸ í˜•íƒœ/ ì£¼í™©ìƒ‰ partëŠ” ì†ì„±ì´ë¼ ë³€ê²½ x
<body>
    <form>
        <input type="text" name=""/>
        <input type="submit" value="Submit"/>
    </form>
</body>


2. ë¹ˆ ì¹¸ ì±„ìš°ê¸°
<body>
    <form ğŸ†—action="/catch" method="get"ğŸ†—>    <!-- action ì´ë¼ëŠ” ì†ì„± -->  
        										ìê¸°ìì‹ ì´ ê°€ì§„ í˜ì´ì§€ë¼ì„œ ì „ì²´ ì£¼ì†Œ ì•ˆ ì ê³  /catch í•˜ë©´ ë¨
        <input type="text" name="ğŸ†—messageğŸ†—"/>  <!-- ì•¼! ë¼ê³  ì…ë ¥í•˜ë©´ , message=ì•¼! ì´ë¼ê³  ì €ì¥ë¨-->
        <input type="submit" value="ğŸ†—ì œì¶œğŸ†—"/>
    </form>
</body>
```

```python
# views.py

def catch(request):  # request ì•ˆì— message ë“¤ì–´ ìˆìŒ
    message = request.GET.get('message')    # GET = throw.html å…§ method ì˜ "get"      .get= ë”•ì…”ë„ˆë¦¬ì˜?
    return render(request,'catch.html', {'message':message})
    ## ë‚´ê°€ /throw í˜ì´ì§€ì—ì„œ  'ì•¼' ë¼ê³  ì…ë ¥í•˜ë©´ message = ì•¼ ë¼ê³  ë˜ì–´ ìˆì–´ì„œ .get('message') í•˜ë©´ ì•¼ ê°€ì ¸ì˜´?
```



#### <span style="color:green">ğŸ”†ë„˜ê²¨ì£¼ê¸° ê³¼ì •</span>

> > 1. <span style="font-family:baë‹¤ì •í•œë„ˆ,XingZBJJ"><b>/throw ì‚¬ì´íŠ¸ å…§ input ë°•ìŠ¤ì— "ì•¼" ì…ë ¥</b></span>
> >
> > 2. <span style="font-family:baë‹¤ì •í•œë„ˆ"><b>/catch í˜ì´ì§€ë¡œ message=ì•¼ ë¼ê³  ì €ì¥ëœ ìƒíƒœë¡œ urls.py ë¡œ ë„˜ì–´ê°</b></span>
> >
> > 3. <span style="font-family:baë‹¤ì •í•œë„ˆ"><b>urls.py ì—ì„œ /catch ë¥¼ ì°¾ì•„ì„œ  views.cathc ë¥¼ ì‹¤í–‰í•´ì•¼ ë˜ê² êµ¬ë‚˜ ë¼ê³  ìƒê°í•œë‹¤</b></span>
> >
> > 4. <span style="font-family:baë‹¤ì •í•œë„ˆ"><b>ê·¸ë˜ì„œ views ë¡œ ì˜¨ ë‹¤ìŒ, def catch ê°€ è¡Œ</b></span>
> >
> > 5. <span style="font-family:baë‹¤ì •í•œë„ˆ"><b>request ì•ˆì— message=ì•¼ ë¼ê³  ì €ì¥ë˜ì–´ ìˆë‹¤</b></span>
> >
> > 6. <span style="font-family:baë‹¤ì •í•œë„ˆ"><b>throw ì—ì„œ get method ë¡œ ë°›ì•˜ìœ¼ë‹ˆê¹Œ request ë‚´ì˜ ë§ì€ ìë£Œë“¤ ì‚¬ì´ì—ì„œ GET ìœ¼ë¡œ ë°›ì€ ê²ƒë§Œ ë°›ì•„ì˜¤ê¸°ë¡œ í•œë‹¤</b></span>
> >
> >    <span style="font-family:baë‹¤ì •í•œë„ˆ"><b>ê·¸ê±¸ ë°›ì•„ì™€ì•¼ MESSAGE=ì•¼ ë¥¼ ì–»ìœ¼ë‹ˆê¹Œ</b></span>



### 4. Form ì™¸ë¶€ë¡œ ìš”ì²­ (ì§­ë„¤ì´ë²„)

```html
# naver.html ì— ì‘ì„±

<body>
   <form action="https://search.naver.com/search.naver" method="get">  
       															<!-- ìê¸° ìì‹  ì£¼ì†Œ ì•„ë‹ˆë¼ì„œ í’€ ì£¼ì†Œ -->
       <input type="text" name="query"/>
       <input type="submit" value="Submit"/>
   </form> 
</body>
```

